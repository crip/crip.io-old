/*------------------------------------* 
   $MAIN 
*------------------------------------*/

if $global-border-box
  *, *:before, *:after
    vendor('box-sizing', border-box)

html, body, .site
  position relative
  width 100%
  height 100%

body
  overflow-y scroll
  background-color #f9f9f9
  font-size $base-font-size
  line-height $base-line-height
  font-family $base-font-family
  color #111

a
  color $link-color
  text-decoration none
  font-weight 400
  vendor('transition', color .3s)

  &:hover
    color $brand-color--darken

/** 
 * Header 
 */
.header
  position fixed
  top 2em
  left 50%
  vendor('transform', translateX(-50%))
  z-index 500
  text-align left
  width 260px
  vendor('user-select', none)
  cursor default

.logo-wrap
  display block
  width 74px
  height 74px  
  overflow hidden
  border-radius 50%
  position relative
  float left
  margin 0

.logo
  display block
  width 62px
  height auto
  position absolute
  left 0

.site-name
  font-weight 500
  font-size 26px
  color $brand-color
  line-height 40px

/** 
 * Profiles 
 */
.profiles
  position relative
  overflow-x hidden
  min-height 100%
  width 100%

/** 
 * Intro sides 
 */

.side
  position fixed
  top 0
  z-index 100
  width 50%
  height 100%
  text-align center
  -webkit-backface-visibility hidden
  color #111

.open-left .side, .open-right .side
  cursor default

.overlay
  position absolute
  top 0
  left 0
  z-index 110
  visibility hidden
  width 100%
  height 100%
  opacity 0

.side-left .overlay
  background-color red

.side-right .overlay
  background-color red

.side-left
  left 0

.side-right
  right 0

/** 
 * Intro content, profile image and name, back button 
 */

.intro-content
  position absolute
  top 50%
  left 50%
  padding 0 1em
  width 60%
  cursor pointer
  vendor('transform', translateY(-50%) translateX(-50%))

.profile__img
  margin 0 auto
  width 150px
  height 150px
  vendor('border-radius', 50%)
  background-color $brand-color--darken
  position relative
  
  img
    max-width 100%
    vendor('border-radius', 50%)
    opacity 0.8

.no-touch .profile__img
  
  &:before
    content 'Read more'
    display block
    position absolute
    top 0
    left 0
    bottom 0
    right 0
    vendor('border-radius', 50%)
    background-color rgba(51, 60, 77, .5)
    color #f9f9f9
    line-height 150px
    font-size 16px
    text-transform uppercase
    z-index 200
    font-weight 500
    letter-spacing 1px
    opacity 0
    visibility hidden
    vendor('transition', opacity 0.4s, visibility 0.1s 0.4s)

.intro-content span
  display block
  white-space nowrap

.intro-content:hover
  .profile__img:before
    opacity 1
    visibility visible

.open-right .intro-content, .open-left .intro-content
  cursor default
  .profile__img:before
    opacity 0
    visibility hidden !important

.profile__name
  font-weight 300
  font-size 1em
  margin 0
  color $brand-color--darken
  text-transform uppercase
  font-weight 500
  letter-spacing 1px

.profile__role
  font-weight 300
  color $brand-color
  position relative
  font-size 0.6em
  margin 0
  padding 0.7em
  text-transform uppercase


/** 
 * Arrows 
 */

.back
  position fixed
  top 3.5em
  z-index 500
  display block
  width 42px
  height 42px
  color #f9f9f9
  text-align center
  font-size 20px
  line-height 38px
  pointer-events none
  text-decoration none
  visibility hidden
  opacity 0
  vendor('border-radius', 50%)
  background-color $brand-color
  background -moz-linear-gradient(top,  rgba(132,150,174,1) 0%, rgba(179,190,205,1) 100%)
  background -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(132,150,174,1)), color-stop(100%,rgba(179,190,205,1)))
  background -webkit-linear-gradient(top,  rgba(132,150,174,1) 0%,rgba(179,190,205,1) 100%)
  background -o-linear-gradient(top,  rgba(132,150,174,1) 0%,rgba(179,190,205,1) 100%)
  background -ms-linear-gradient(top,  rgba(132,150,174,1) 0%,rgba(179,190,205,1) 100%)
  background linear-gradient(to bottom,  rgba(132,150,174,1) 0%,rgba(179,190,205,1) 100%)
  filter progid:DXImageTransform.Microsoft.gradient( startColorstr='#8496ae', endColorstr='#b3becd',GradientType=0 )


  &:hover
    color #f9f9f9

.mobile-layout .back
  position absolute

.back-left
  left 12.5%
  vendor('transform', translateX(-50%))

.back-right
  right 12.5%
  vendor('transform', translateX(50%))

.open-right .back-left, .open-left .back-right
  visibility visible
  opacity 1
  vendor('transition-delay', 0.3s)
  pointer-events auto

/** 
 * Pages 
 */

.page
  position relative
  top 0
  overflow auto
  min-height 100%
  width 75%
  height auto
  font-size 1.4em
  vendor('backface-visibility', hidden)

.page-right
  left 25%
  vendor('transform', translateX(100%))

.page-left
  left 0
  text-align right
  vendor('transform', translateX(-100%))

/** 
 * Inner page content 
 */

.page-inner
  padding 2em

.page-inner section
  padding-bottom 1em

.page-inner h2
  margin 0
  font-weight 500
  font-size 2.4em
  color $brand-color--darken

.page-inner p
  font-weight 300
  font-size 1.1em
  color #777

/** 
 * All transitions 
 */

.side, .page
  -webkit-transition -webkit-transform 0.6s
  -moz-transition -moz-transform 0.6s
  -ms-transition -ms-transform 0.6s
  -o-transition -o-transform 0.6s
  transition transform 0.6s
  background-color #f9f9f9

.overlay
  vendor('transition', opacity 0.6s, visibility 0.1s 0.6s)

.intro-content
  -webkit-transition -webkit-transform 0.6s, top 0.6s
  -moz-transition -moz-transform 0.6s, top 0.6s
  -ms-transition -ms-transform 0.6s, top 0.6s
  -o-transition -o-transform 0.6s, top 0.6s
  transition transform 0.6s, top 0.6s

.intro-content h1, .back
  vendor('transition', opacity 0.3s)

.reset-layout .page,
.profiles.open-right .page-left,
.profiles.open-left .page-right,
.profiles.close-right .page-left,
.profiles.close-left .page-right
  position absolute
  overflow hidden
  height 100%

.open-right .page-right,
.open-left .page-left
  position relative
  overflow auto
  height auto

.profiles.open-right .page-right,
.profiles.open-left .page-left
  visibility visible
  opacity 1
  vendor('transition', opacity 0.6s)

/** 
 * Right side open 
 */
.open-right .side-left
  z-index 90
  vendor('transform', translateX(-100%))

.open-right .side-right
  z-index 200
  vendor('transform', translateX(-150%))

.close-right .side-right
  z-index 300

.open-right .side-right .intro-content
  vendor('transform', translateY(-50%) translateX(-8%) scale(0.6))

.open-right .page-right
  vendor('transform', translateX(0%))

/** 
 * Left side open 
 */
.open-left .side-right
  vendor('transform', translateX(100%))

.open-left .side-left
  z-index 90
  vendor('transform', translateX(150%))

.close-left .side-right
  z-index 200

.open-left .side-left .intro-content
  vendor('transform', translateY(-50%) translateX(-91%) scale(0.6))

.open-left .page-left
  vendor('transform', translateX(0%))


